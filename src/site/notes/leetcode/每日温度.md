---
{"dg-publish":true,"dg-permalink":"每日温度","permalink":"/每日温度/","title":"每日温度","tags":["栈","单调栈"]}
---


## 思路

1. 维护一个**单调递增栈**，存储 temperatures 的索引值，用于后续来计算天数的间隔
2. **从右往左**遍历，通过单调栈找到第一次大于当天的温度索引
3. 计算两天的天数间隔，将答案存储到 res 中

代码参考：

## Go

```go
func dailyTemperatures(temperatures []int) []int {
	// 单调递增栈，因为要计算天数的间隔，所以存储的索引值
	var st []int
	res := make([]int, len(temperatures))

	for i := len(temperatures) - 1; i >= 0; i-- {
		temp := temperatures[i]
		// 维护了一个单调递增栈
		// 通过这个栈可以去找到后边几天中大于该天温度的
		for len(st) > 0 && temp >= temperatures[st[len(st)-1]] {
			st = st[:len(st)-1]
		}
		// 计算天数的间隔
		if len(st) == 0 {
			res[i] = 0
		} else {
			res[i] = st[len(st)-1] - i
		}
		st = append(st, i)
	}
	return res
}
```

## Java

```java
public int[] dailyTemperatures(int[] nums) {
	Deque<Integer> stack = new LinkedList<>();
	int[] res=new int[nums.length];

	for (int i = nums.length - 1;i >=0;i--) {
		while(!stack.isEmpty() && nums[stack.peek()] <= nums[i]) {
			stack.pop();
		}
		res[i]=stack.isEmpty() ? 0:stack.peek() - i;
		stack.push(i);
	}
	return res;
}
```