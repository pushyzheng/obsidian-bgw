---
{"dg-publish":true,"dg-permalink":"双向链表","permalink":"/双向链表/"}
---



## 代码

在代码的实现的时候，将 Head 和 Tail 都构造为虚拟的结点，这样就能避免判断空 Head 或者 空 Tail 的情况：

```go
type DNode struct {
	Value int
	Prev  *DNode
	Next  *DNode
}

type DLinkedList struct {
	Head *DNode
	Tail *DNode
}

func NewDLinkedList() *DLinkedList {
	head, tail := &DNode{}, &DNode{}
	head.Next = tail
	tail.Prev = head
	return &DLinkedList{head, tail}
}

func (l *DLinkedList) PushFront(val int) *DNode {
	node := &DNode{Value: val}
	l.AddToHead(node)
	return node
}

func (l *DLinkedList) AddToHead(node *DNode) {
	node.Prev = l.Head
	node.Next = l.Head.Next
	l.Head.Next.Prev = node
	l.Head.Next = node
}

func (l *DLinkedList) DeleteNode(node *DNode) {
	node.Prev.Next = node.Next
	node.Next.Prev = node.Prev
}

func (l *DLinkedList) RemoveHead() *DNode {
	firstHead := l.Head.Next
	l.DeleteNode(firstHead)
	return firstHead
}

func (l *DLinkedList) RemoveTail() *DNode {
	lastHead := l.Tail.Prev
	l.DeleteNode(lastHead)
	return lastHead
}
```