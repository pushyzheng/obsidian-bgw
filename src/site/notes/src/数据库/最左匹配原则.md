---
{"dg-publish":true,"dg-permalink":"最左匹配原则","permalink":"/最左匹配原则/"}
---


#MySQL 

## 什么是MySQL 的最左匹配原则？

1. ==字段最左==
	- 如果查询列是联合索引的最左边几个，可以走索引，否则无法走索引
	- 但和查询语句的 where** 顺序无关**（查询优化器的缘故）
	- 对于 `(a, b, c)` 索引来说：
		- (a)、(a, b)、(a, b, c)、(b, a, c)：走索引
		- (b)、(c)、(b, c)：不走索引
2. ==字符最左==：
	- `like 'Ray%'`：走索引
	- `like '%one'`：不走索引

## 哪些范围查询会导致联合索引的最左匹配原则会停止匹配?

联合索引的最左匹配原则，在遇到范围查询（如 >、<）的时候，就会停止匹配

也就是范围查询的字段可以用到联合索引，但是在范围查询字段的后面的字段无法用到联合索引

举例：

```sql
-- 联合索引（a, b）
select * from t_table where a > 1 and b = 2;

-- 在符合 a > 1 条件的二级索引记录的范围里，b 字段的值是无序的
-- 所以 a 字段可以在联合索引的 B+Tree 中进行索引查询
-- 但是 b 字段不可以
```