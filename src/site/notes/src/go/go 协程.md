---
{"dg-publish":true,"dg-permalink":"go 协程","permalink":"/go 协程/"}
---


#Go 

## go 协程（Goroutine）与传统线程有什么区别？

1. 协程是[[src/计算机基础/操作系统#线程都有哪些实现？\|轻量级线程]]，初始栈只有几 KB，线程是 MB 级别
2. 协程是**用户态**的，由 Go 的调度器把它们映射到少量的内核线程上跑，切换开销小，更适合解决高并发场景

## go 协程的底层设计原理？

1. 使用与 CPU 数量相等的线程减少线程频繁切换的内存开销
2. 使用 [[src/计算机基础/操作系统#如何设计一个协程？\|设计协程调度策略中的 M:N 调度]]
	- 内核负责对这 N 个操作系统线程进行调度
	- N 个系统线程，通过 goroutine 调度器对这 M 个协程进行调度和运行