---
{"dg-publish":true,"dg-permalink":"对象池","permalink":"/对象池/"}
---


## 什么是 sync.Pool？

sync.Pool 是 Go 标准库中的一个高效、并发安全的对象池：
- 用于**缓存和复用**临时对象，减少内存分配次数
- 降低垃圾回收（GC）压力，从而提升程序性能

## sync.Pool 的特点？

- ==并发安全==：可以在多个协程中安全地共享和复用对象，不用额外的锁机制
- ==自动清理==：池中的对象不是永久存储，会随 GC 的运行而被清空

## sync.Pool 使用于哪些场景？

需要频繁分配和释放短生命周期的对象，如：
- 高并发请求下，每次请求都需要分配一些临时的结构体或切片（特别是一些**大对象**）
- 适用于对象创建开销大、生命周期短、复用价值高
- 不适用于需长时间持有（如保持持久连接）对象，因为随时会被清理