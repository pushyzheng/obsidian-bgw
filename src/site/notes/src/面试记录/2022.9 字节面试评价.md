---
{"dg-publish":true,"dg-permalink":"2022.9 字节面试评价","permalink":"/2022.9 字节面试评价/"}
---


## 一面

> [!NOTE] 
> 总体：
> 
> 项目经历相对简单，沟通顺畅，稍微有些发散，编码总体OK，弱通过

介绍
毕业2年
去哪儿 应届去，做供应链业务，比较熟悉，感觉成长空间比较小
洛凯科技 主要考虑薪资，另外小公司做的事情比较多，感觉成长空间比较大，与大公司不同
为什么换工作？ 小公司，B轮融资出现问题，被优化

项目
介绍一个有难度的项目 去哪儿的报价缓存优化项目
价格日历ttl如何实现？被动调用清理
主要难点？承接大流量(峰值40k qps)和切量观测
项目耗时？一个月
大概什么时候？2021.12-2022.01

Java
HashMap实现 OK
并发会发生什么 OK

MySQL
存储引擎区别 知道索引
索引和b+树 OK

Redis
zrangescroe时间复杂度 不太了解
zset实现 知道跳表，不太了解实现

之前面试问过的问题
Q：了解多少种IO多路复用的策略？
A：知道Epoll，其他不太记得了
Q：介绍一下Epoll的实现原理？
A：之前看过，不太记得了

编码
二叉树右视图 思路OK，运行通过
TreeNode为什么使用static修饰？之前IDE总提示所以习惯用
不加有什么问题？不加应该没什么问题

## 二面

> [!NOTE] 
> 整体评级：沟通比较健谈，比较熟悉做过的项目，平时看过一些来源框架，有一定潜力。代码存在边界问题，但思路OK。

1，介绍下自己做过的项目？3
报价缓存优化。存在问题1，缓存数据粒度过大，没有入离店日期，按照月的维度，造成接口QPS很高压力很多。2，商家数据变更时之前访问详情页获取，改完主动获取数据。冷数据引入价格日志，只缓存热点数据


2，任务调度系统如何保证任务成功执行的？如果子任务多次存在重试仍失败如何处理？3

本地任务状态表+定时任务。在状态表里面增加重试次数，根据不同的重试次数延长下次调服时间，监控报警，识别有故障的任务。

3，mysql索引使用注意事情，以及优化器索引选择的过程？2.5
联合索引以及最左匹配原则清楚，CBO模型没了解过

4，java 的注解在框架中经常使用，那注解支持继承吗？3
支持继承，在定义注解时可以指定。在项目中使用过loombok,知道继承问题

## 三面

> [!NOTE] 
> 整体素质中规中矩，没有很明显的亮点。结合前两面的结论，先不推进了。

最新的这家公司只待了几个月，原因是什么？
公司业务压力大，收缩HC。
那之前为什么过去? 当时发展不错，在liveIn这个类目曾经排过第一。

聊了一下推送项目，主要做的是功能聚合。
即把多个下游渠道统一收敛到中台，同时让上游业务方接入（目前2个）。
问了下怎么制定规范、定义接口，没有说得很清楚。
作为中台，如何了解清楚业务的需求，用了多长时间？大概一周，有点答非所问。

如何解决推送过程中的重复、漏推等问题。
用mysql行记录（类似于分布式锁）来解决的。只回答了防重的问题。
推送人员怎么管理？ 回答了全部推送的场景，直接为所有人生成一条记录，写到DB，然后扫表触发任务。
如果同时推送10万条数据，mysql会有压力吗？ 用MQ做了分批次处理，保证到mysql的请求数较小。
时效性要求不高。

在去哪儿做的缓存优化项目，目的是保证数据准确的前提下，减小对OTA商家的请求量。
请求规模？qps总体最高40k，大的OTA单个可能有1k，对小公司来说是比较大的量了。
做了几个事情
1. 之前是其他团队构建的缓存，这次本团队直接从商家获取构建。
2. 粒度拆细，比如之前以 商家+产品 为 key， 这次用 商家+产品 + 时间范围 为key，提升缓存命中率
3. 压缩数据量，解决第2步里面的数据膨胀问题。（总体大概在100G）
4. 定时任务从商家侧获取商品价格信息，刷新缓存。（间隔是固定的还是随着淡季旺季变化？ 固定的，每个商家不同）

总体看来这块效果还可以，但都是相对常规的优化手段。

写一段让CPU接近100%的代码。
首先没有太get到题意，帮助他搞清楚了单核cpu使用率。
候选人给了个空的死循环，但是不能准确判断cpu使用率。
候选人提到sleep，问了下sleep过程发生了什么变化。 对于进程状态转换记不太清楚了。

这个问题回答得不好。

代码方面
总体还算ok
加了个如何实现next_permutation的问题，没有思路。时间关系没有太展开。